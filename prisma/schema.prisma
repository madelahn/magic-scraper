generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id                    String            @id @default(cuid())
  name                  String
  moxfieldCollectionId  String            @unique
  lastUpdated           DateTime          @default(now())
  collectionCards       CollectionCard[]
  
  @@map("users")
}

model CollectionCard {
  id          String   @id @default(cuid())
  userId      String
  cardName    String
  scryfallId  String
  set         String
  setName     String
  quantity    Int
  condition   String
  isFoil      Boolean
  typeLine    String
  lastUpdated DateTime @default(now())
  
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  @@index([cardName])
  @@index([userId])
  @@map("collection_cards")
}